<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>title</title>
    <link rel="stylesheet" href="/dist/css/quicktab.css">

    <style>
        .parent {
            margin: 600px  0;
            width: 800px;
            max-width: 100%;
        }
    </style>

</head>

<body>


    <div class="parent">
        <div id="qtab2"></div>
        
    <button id="add">addTab()</button>
 
    <a href="https://imccc.cc/ai.html" data-qt-tab='twrew'
        data-qt-target="qtab2">通过data属性来添加tab</a>

    <input type="text" id="urlinput" value="https://imccc.cc/ai.html"><button id="add3">通过tab的url刷新tab</button>
    </div>

  


    <script src="/dist/js/quicktab.js"></script>
    <script src="/dist/js/langs/en_US.js"></script>


    <script>

        const qt2 = new Quicktab('qtab2',{
            lang:'zh',
            cacheType:'local',
            responsive:{
                breakpoint:576,
                // hideToolbarItem:['prev']
            },
            defaultTabs:[
                {
                    title:'q3332',
                    url:'https://imccc.cc/ai.html'
                },
                {
                    title:'q222',
                    url:'page3.html'
                }
            ],
            onInit:function(){

            },
            toolbar:{
                position:'top',
                hide:false,
                fullscreen:{
                    order:1
                },
                prev:{
                    order:2
                }
            },
            tab:{
                maxNum:2,
                clickCenterActive:true,
                dragSort:true,
                dbClickRefresh:true,
                timeout:{
                    filter:function(url){
                        return url.startsWith('http')
                    },
                    second:100,
                },
                loading:{
                    filter:function(url){
                        return !url.startsWith('http')
                    },
                    template:'<div>qqqq</div>'
                },
                contextmenu:{
                    close:{
                        text:'关闭当',
                        // order:'q'
                    }
                }
            }
        })


        document.querySelector('#add').addEventListener('click',function(){
            qt2.addTab({
                url:'page1.html?id='+Math.random(),
                title:'q'
            })
        })


        function generateRandomNumber(min, max) {
            return Math.floor(Math.random() * (max - min + 1) + min);
        }

        const randomTabs = ()=>{
            let tabs = [];
            for (let index = 0; index < generateRandomNumber(20, 50); index++) {
            tabs.push({    //标题
                title: 'page1.html' + index,
                // 地址
                url: 'page1.html?id=' + index,
                //是否可以关闭
                closable: false
            })
        }
        return tabs;
        };


  
        
    </script>



    <script>

   


        // console.log(Quicktab.LOCALES);
 

        // function generateRandomNumber(min, max) {
        //     return Math.floor(Math.random() * (max - min + 1) + min);
        // }


        // $('#add').on('click', function () {
        //     let num = generateRandomNumber(1, 5000000);
        //     qtab2.addTab({
        //         // url: 'https://getbootstrap.com',
        //         // url: 'https://imccc.cc/ai.html?id=',
        //         url: 'page1.html?num=' + num,
        //         // url: 'page2.html?id=1000',
        //         title: '新的标签页-' + num,
        //         //可否关闭，默认值是 true:添加一个可以关闭的tab
        //         close: true,
        //     })
        // })


        // $('#add2').on('click', function () {
        //     console.log(Quicktab.get('.qtab2'))
        //     console.log(qtab2 === Quicktab.get('.qtab2')) //true

        // })

        // $('#add3').on('click', function () {
        //     let url = $('#urlinput').val();
        //     // console.log(url);

        //     qtab2.refreshTabByUrl(url)
        // })

        // $('#btn1').on('click', function () {
        //     let tab = qtab2.getTabByUrl($('#urlinput').val());
        //     // offsetWidth
        //     // offsetLeft
        //     console.log(tab.offsetWidth);
        //     console.log(tab.offsetLeft);
        // })


    </script>

</body>

</html>
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>



    <script>

        const source = { a: undefined, b: undefined, c: 3 };
        const target = { c: 5 };


        let methods = { SayHello: function (value) { alert("hello" + value); } }


        // const result = extend(source, target);
        const result = extend(methods);

        console.log("source", source);
        console.log('target', target);
        console.log('result', result);


        function extend(target, ...args) {
            let deep = false;

            console.log(args);

            if (typeof target === "boolean") {
                deep = target;
                target = args.shift();
            }

            if (typeof target !== "object" && typeof target !== 'function') {
                target = {};
            }

            if (args.length === 0) {
               console.log('777');
                return target;
            }

            for (const options of args) {
                if (options != null) {
                    for (const [name, copy] of Object.entries(options)) {
                        if (name === "__proto__" || target === copy) {
                            continue;
                        }

                        if (deep && copy && (isPlainObject(copy) || Array.isArray(copy))) {
                            const src = target[name];
                            const copyIsArray = Array.isArray(copy);
                            const clone = deep && copyIsArray ? (src && Array.isArray(src) ? src : []) : {};

                            target[name] = extend(deep, clone, copy);
                        } else {
                            target[name] = copy;
                        }
                    }
                }
            }

            return target;
        };

        function isPlainObject(obj) {
            if (typeof obj !== 'object' || obj === null || Array.isArray(obj)) {
                return false;
            }

            const prototype = Object.getPrototypeOf(obj);
            return prototype === Object.prototype || prototype === null;
        };





    </script>


</body>

</html>